<!DOCTYPE html>
<html lang="fr">

  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>

    <title>Authentification</title>
    <meta name="description" content="Authentification des fournisseurs de données" />

    <link rel="stylesheet" type="text/css" media="screen,projection" href="https://sigrennesmetropole.github.io/rudi_documentation/assets/css/template.css">
    <link rel="stylesheet" type="text/css" media="screen,projection" href="https://sigrennesmetropole.github.io/rudi_documentation/assets/css/main.css">
    <link rel="canonical" href="https://sigrennesmetropole.github.io/rudi_documentation/api/authentification/" />
</head>


  <body>
  <svg style="position: absolute; width: 0; height: 0; overflow: hidden;" version="1.1"
       xmlns="http://www.w3.org/2000/svg">
      <defs>
        <symbol id="icon-search">
          <title>search</title>
          <path d="M15.504 13.616l-3.79-3.223c-0.392-0.353-0.811-0.514-1.149-0.499 0.895-1.048 1.435-2.407 1.435-3.893 0-3.314-2.686-6-6-6s-6 2.686-6 6 2.686 6 6 6c1.486 0 2.845-0.54 3.893-1.435-0.016 0.338 0.146 0.757 0.499 1.149l3.223 3.79c0.552 0.613 1.453 0.665 2.003 0.115s0.498-1.452-0.115-2.003zM6 10c-2.209 0-4-1.791-4-4s1.791-4 4-4 4 1.791 4 4-1.791 4-4 4z"></path>
        </symbol>

        <symbol id="icon-mail">
          <title>mail</title>
          <path d="M29,4l-26,0c-1.65,0 -3,1.35 -3,3l0,20c0,1.65 1.35,3 3,3l26,0c1.65,0 3,-1.35 3,-3l0,-20c0,-1.65 -1.35,-3 -3,-3Zm-16.539,13.199l-8.461,6.59l0,-15.676l8.461,9.086Zm-6.949,-9.199l20.976,0l-10.488,7.875l-10.488,-7.875l0,0Zm7.278,9.553l3.21,3.447l3.21,-3.447l6.58,8.447l-19.579,0l6.58,-8.447l-0.001,0Zm6.749,-0.354l8.461,-9.086l0,15.676l-8.461,-6.59Z"/>
        </symbol>

        <symbol id="icon-fb">
          <title>facebook</title>
          <path d="M29,0l-26,0c-1.65,0 -3,1.35 -3,3l0,26c0,1.65 1.35,3 3,3l13,0l0,-14l-4,0l0,-4l4,0l0,-2c0,-3.306 2.694,-6 6,-6l4,0l0,4l-4,0c-1.1,0 -2,0.9 -2,2l0,2l6,0l-1,4l-5,0l0,14l9,0c1.65,0 3,-1.35 3,-3l0,-26c0,-1.65 -1.35,-3 -3,-3Z"/>
        </symbol>

        <symbol id="icon-github">
          <title>github</title>
          <path d="M16,0.395c-8.836,0 -16,7.163 -16,16c0,7.069 4.585,13.067 10.942,15.182c0.8,0.148 1.094,-0.347 1.094,-0.77c0,-0.381 -0.015,-1.642 -0.022,-2.979c-4.452,0.968 -5.391,-1.888 -5.391,-1.888c-0.728,-1.849 -1.776,-2.341 -1.776,-2.341c-1.452,-0.993 0.11,-0.973 0.11,-0.973c1.606,0.113 2.452,1.649 2.452,1.649c1.427,2.446 3.743,1.739 4.656,1.33c0.143,-1.034 0.558,-1.74 1.016,-2.14c-3.554,-0.404 -7.29,-1.777 -7.29,-7.907c0,-1.747 0.625,-3.174 1.649,-4.295c-0.166,-0.403 -0.714,-2.03 0.155,-4.234c0,0 1.344,-0.43 4.401,1.64c1.276,-0.355 2.645,-0.532 4.005,-0.539c1.359,0.006 2.729,0.184 4.008,0.539c3.054,-2.07 4.395,-1.64 4.395,-1.64c0.871,2.204 0.323,3.831 0.157,4.234c1.026,1.12 1.647,2.548 1.647,4.295c0,6.145 -3.743,7.498 -7.306,7.895c0.574,0.497 1.085,1.47 1.085,2.963c0,2.141 -0.019,3.864 -0.019,4.391c0,0.426 0.288,0.925 1.099,0.768c6.354,-2.118 10.933,-8.113 10.933,-15.18c0,-8.837 -7.164,-16 -16,-16l0,0Z"/>
        </symbol>

        <symbol id="icon-rss">
          <title>rss</title>
          <path d="M29,0l-26,0c-1.65,0 -3,1.35 -3,3l0,26c0,1.65 1.35,3 3,3l26,0c1.65,0 3,-1.35 3,-3l0,-26c0,-1.65 -1.35,-3 -3,-3Zm-20.281,25.975c-1.5,0 -2.719,-1.206 -2.719,-2.706c0,-1.488 1.219,-2.712 2.719,-2.712c1.506,0 2.719,1.225 2.719,2.712c0,1.5 -1.219,2.706 -2.719,2.706Zm6.825,0.025c0,-2.556 -0.994,-4.962 -2.794,-6.762c-1.806,-1.806 -4.2,-2.8 -6.75,-2.8l0,-3.912c7.425,0 13.475,6.044 13.475,13.475l-3.931,0l0,-0.001Zm6.944,0c0,-9.094 -7.394,-16.5 -16.481,-16.5l0,-3.912c11.25,0 20.406,9.162 20.406,20.413l-3.925,0l0,-0.001Z"/>
        </symbol>

        <symbol id="icon-rss">
          <title>rss</title>
          <path id="Checked-Icon" d="M13.23,0.307l-8.118,8.197l-3.345,-3.384c-0.405,-0.408 -1.06,-0.408 -1.464,0c-0.404,0.408 -0.404,1.071 0,1.479l4.055,4.101c0.208,0.21 0.481,0.31 0.754,0.305c0.272,0.005 0.545,-0.095 0.753,-0.305l8.829,-8.915c0.404,-0.408 0.404,-1.07 0,-1.478c-0.404,-0.409 -1.06,-0.409 -1.464,0Z"/>
        </symbol>

        <symbol id="icon-twitter">
          <title>twitter</title>
          <path d="M32,7.075c-1.175,0.525 -2.444,0.875 -3.769,1.031c1.356,-0.813 2.394,-2.1 2.887,-3.631c-1.269,0.75 -2.675,1.3 -4.169,1.594c-1.2,-1.275 -2.906,-2.069 -4.794,-2.069c-3.625,0 -6.563,2.938 -6.563,6.563c0,0.512 0.056,1.012 0.169,1.494c-5.456,-0.275 -10.294,-2.888 -13.531,-6.862c-0.563,0.969 -0.887,2.1 -0.887,3.3c0,2.275 1.156,4.287 2.919,5.463c-1.075,-0.031 -2.087,-0.331 -2.975,-0.819c0,0.025 0,0.056 0,0.081c0,3.181 2.263,5.838 5.269,6.437c-0.55,0.15 -1.131,0.231 -1.731,0.231c-0.425,0 -0.831,-0.044 -1.237,-0.119c0.838,2.606 3.263,4.506 6.131,4.563c-2.25,1.762 -5.075,2.813 -8.156,2.813c-0.531,0 -1.05,-0.031 -1.569,-0.094c2.913,1.869 6.362,2.95 10.069,2.95c12.075,0 18.681,-10.006 18.681,-18.681c0,-0.287 -0.006,-0.569 -0.019,-0.85c1.281,-0.919 2.394,-2.075 3.275,-3.394l0,-0.001Z"/>
        </symbol>

        <symbol id="icon-googleplus">
          <title>google +</title>
          <path d="M29 0H3C1.35 0 0 1.35 0 3v26c0 1.65 1.35 3 3 3h26c1.65 0 3-1.35 3-3V3c0-1.65-1.35-3-3-3zM12 24c-4.425 0-8-3.575-8-8s3.575-8 8-8c2.162 0 3.969.787 5.363 2.094l-2.175 2.088c-.594-.569-1.631-1.231-3.188-1.231-2.731 0-4.963 2.263-4.963 5.05s2.231 5.05 4.963 5.05c3.169 0 4.356-2.275 4.538-3.45h-4.537v-2.744h7.556c.069.4.125.8.125 1.325 0 4.575-3.063 7.819-7.681 7.819L12 24zm16-8h-2v2h-2v-2h-2v-2h2v-2h2v2h2v2z" fill="#fff" fill-rule="nonzero"/>
        </symbol>

        <symbol id="icon-cross">
            <title>cross</title>
            <path d="M10 0c5.519 0 10 4.481 10 10s-4.481 10-10 10S0 15.519 0 10 4.481 0 10 0zm3.975 7.56a4.673 4.673 0 0 0-1.535-1.535L10 8.465l-2.44-2.44A4.673 4.673 0 0 0 6.025 7.56L8.465 10l-2.44 2.44c.384.625.91 1.151 1.535 1.535l2.44-2.44 2.44 2.44a4.673 4.673 0 0 0 1.535-1.535L11.535 10l2.44-2.44z"/>
        </symbol>

        <symbol id="icon-link" viewBox="0 0 512 512">
            <title>link</title>
            <path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/>
        </symbol>

        <symbol id="icon-linkedin" viewBox="0 0 512 512">
          <title>linkedin</title>
          <!-- Font Awesome Pro 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) -->
          <path d="M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"/>
        </symbol>

      </defs>
    </svg>
      
<header class="navbar">
  <div class="navbar__container">
    <a class="navbar__home" href="https://sigrennesmetropole.github.io/rudi_documentation/">
      <img class="navbar__logo" src="https://sigrennesmetropole.github.io/rudi_documentation/assets/images/logo_rudi.svg"
        alt="Rudi - documentation" />
      <span class="navbar__domain"></span>
    </a>
    
    <nav>
      <ul class="nav__links">
        
      </ul>
    </nav>
  </div>
</header>

    <div class="hero">
  <div class="hero__container">
    <h1 class="hero__title">Documentation</h1>
  </div>
</div>


<section class="documentation">
  <nav class="side-pane" role="navigation">
  <div class="return-datagouvfr">
      <a href="https://www.rudi.bzh">Revenir sur Rudi</a>
  </div>
  <div class="search-input-wrapper">
    <input type="text" id="search-input" placeholder="Recherche">
  </div>
  <ul class="side-pane__menu">
    
    
        
        <a></a>
        
        <li class="side-pane__dropdown unfolded">
            <ul class="side-pane__submenu">
            
            </ul>
        </li>
        
    
        
        <a>Glossaire</a>
        
        <li class="side-pane__dropdown unfolded">
            <ul class="side-pane__submenu">
            
            <li >
                <a class="side-pane__link" href="https://sigrennesmetropole.github.io/rudi_documentation/glossaire/general/">Généralités</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="https://sigrennesmetropole.github.io/rudi_documentation/glossaire/roles/">Rôles</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="https://sigrennesmetropole.github.io/rudi_documentation/glossaire/utilisateurs-comptes/">Utilisateurs et comptes</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="https://sigrennesmetropole.github.io/rudi_documentation/glossaire/donnees-rudi/">Données de Rudi</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="https://sigrennesmetropole.github.io/rudi_documentation/glossaire/concepts-rudi/">Concepts de Rudi</a>
            </li>
            
            </ul>
        </li>
        
    
        
        <a>Comprendre les espaces personnels</a>
        
        <li class="side-pane__dropdown unfolded">
            <ul class="side-pane__submenu">
            
            <li >
                <a class="side-pane__link" href="https://sigrennesmetropole.github.io/rudi_documentation/espace_personnel_explication/mon_compte/">Mon compte</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="https://sigrennesmetropole.github.io/rudi_documentation/espace_personnel_explication/mes_notifications/">Mes notifications</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="https://sigrennesmetropole.github.io/rudi_documentation/espace_personnel_explication/mon_activite/">Mon activité</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="https://sigrennesmetropole.github.io/rudi_documentation/espace_personnel_explication/mes_donnees_personelles/">Mes données personnelles</a>
            </li>
            
            </ul>
        </li>
        
    
        
        <a>Accéder à des données ouvertes</a>
        
        <li class="side-pane__dropdown unfolded">
            <ul class="side-pane__submenu">
            
            <li >
                <a class="side-pane__link" href="https://sigrennesmetropole.github.io/rudi_documentation/acces_donnee_ouverte/telecharger/">Télécharger</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="https://sigrennesmetropole.github.io/rudi_documentation/acces_donnee_ouverte/requeter/">Requêter</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="https://sigrennesmetropole.github.io/rudi_documentation/acces_donnee_ouverte/acces_donnee_ouverte_media_type_API/">Requêter un média de type API</a>
            </li>
            
            </ul>
        </li>
        
    
        
        <a>Accéder à des données en accès restreint</a>
        
        <li class="side-pane__dropdown unfolded">
            <ul class="side-pane__submenu">
            
            <li >
                <a class="side-pane__link" href="https://sigrennesmetropole.github.io/rudi_documentation/acces_donnees_restreintes/creer_un_projet/">Créer un projet</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="https://sigrennesmetropole.github.io/rudi_documentation/acces_donnees_restreintes/demande_acces/">Demander l&#39;accès</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="https://sigrennesmetropole.github.io/rudi_documentation/acces_donnees_restreintes/souscrire_jdd/">Souscrire à un jeu de données</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="https://sigrennesmetropole.github.io/rudi_documentation/acces_donnees_restreintes/acces_donnees/">Accéder aux données en accès restreint</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="https://sigrennesmetropole.github.io/rudi_documentation/acces_donnees_restreintes/chiffrement/">Déchiffrement des données</a>
            </li>
            
            </ul>
        </li>
        
    
        
        <a>Accéder à vos données personnelles</a>
        
        <li class="side-pane__dropdown unfolded">
            <ul class="side-pane__submenu">
            
            <li >
                <a class="side-pane__link" href="https://sigrennesmetropole.github.io/rudi_documentation/donnees_personnelles/intro/">Accéder à vos données</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="https://sigrennesmetropole.github.io/rudi_documentation/donnees_personnelles/access/">Accès</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="https://sigrennesmetropole.github.io/rudi_documentation/donnees_personnelles/rectification/">Rectification</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="https://sigrennesmetropole.github.io/rudi_documentation/donnees_personnelles/effacement/">Effacement</a>
            </li>
            
            </ul>
        </li>
        
    
        
        <a>API</a>
        
        <li class="side-pane__dropdown unfolded">
            <ul class="side-pane__submenu">
            
            <li >
                <a class="side-pane__link" href="https://sigrennesmetropole.github.io/rudi_documentation/api/contrat-portail-noeud-producteur/">Contrat portail nœud producteur</a>
            </li>
            
            <li class="active">
                <a class="side-pane__link" href="https://sigrennesmetropole.github.io/rudi_documentation/api/authentification/">Authentification</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="https://sigrennesmetropole.github.io/rudi_documentation/api/api_exposees/">API exposées</a>
            </li>
            
            </ul>
        </li>
        
    
        
        <a>Organisation</a>
        
        <li class="side-pane__dropdown unfolded">
            <ul class="side-pane__submenu">
            
            <li >
                <a class="side-pane__link" href="https://sigrennesmetropole.github.io/rudi_documentation/organisation/gestion_des_organisations/">Gestion des organisations</a>
            </li>
            
            </ul>
        </li>
        
    
        
        <a>Noeud producteur</a>
        
        <li class="side-pane__dropdown unfolded">
            <ul class="side-pane__submenu">
            
            <li >
                <a class="side-pane__link" href="https://sigrennesmetropole.github.io/rudi_documentation/publication/noeud_producteur/">Fonctionnalités</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="https://sigrennesmetropole.github.io/rudi_documentation/publication/donnee_ouverte/">Données ouvertes</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="https://sigrennesmetropole.github.io/rudi_documentation/publication/donnee_restreint/">Données à accès restreint</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="https://sigrennesmetropole.github.io/rudi_documentation/publication/donnee_personnelle/">Données personnelles</a>
            </li>
            
            </ul>
        </li>
        
    
        
        <a>Publier des jeux de données géographiques</a>
        
        <li class="side-pane__dropdown unfolded">
            <ul class="side-pane__submenu">
            
            <li >
                <a class="side-pane__link" href="https://sigrennesmetropole.github.io/rudi_documentation/Jeux_de_donnees_geo/wmts/">Média WMTS</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="https://sigrennesmetropole.github.io/rudi_documentation/Jeux_de_donnees_geo/wms/">Média WMS</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="https://sigrennesmetropole.github.io/rudi_documentation/Jeux_de_donnees_geo/geojson_wfs/">Média WFS type GeoJson</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="https://sigrennesmetropole.github.io/rudi_documentation/Jeux_de_donnees_geo/wfs/">Média WFS</a>
            </li>
            
            </ul>
        </li>
        
    
        
        <a>Autres</a>
        
        <li class="side-pane__dropdown unfolded">
            <ul class="side-pane__submenu">
            
            <li >
                <a class="side-pane__link" href="https://sigrennesmetropole.github.io/rudi_documentation/autres/liens_utiles/">Liens utiles</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="https://sigrennesmetropole.github.io/rudi_documentation/autres/code_source/">Code source</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="https://sigrennesmetropole.github.io/rudi_documentation/autres/tutoriels/">Démos et tutos</a>
            </li>
            
            </ul>
        </li>
        
    
  </ul>
</nav>

  <div class="search-results">
    <h2>Resultats de recherche pour "<span id="search-query"></span>"</h2>
    <div id="search-results-container"></div>
  </div>
  <div class="main-pane">
    <div class="markdown">
      <h1 id="authentification-des-fournisseurs-de-données">Authentification des fournisseurs de données</h1>

<p>Les fournisseurs de données pour publier des métadonnées doivent s’authentifier en OAuth2.</p>

<p>Pour cela, il faut :</p>
<ul>
  <li>Déclarer le fournisseur dans RUDI Portail (µPoviders)</li>
  <li>Déclarer chaque noeud du fournisseur dans RUDI Portail (µPoviders)</li>
  <li>
    <p>A chaque noeud est associé un utilisateur de type <em>ROBOT</em>  (µACL). L’utilisateur possède :</p>

    <ul>
      <li>un client_id sous la forme d’un UUID V4</li>
      <li>un client_secret</li>
    </ul>
  </li>
</ul>

<p>Le noeud fournisseur peut alors s’authentifier comme suit :</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -v --request POST https://rudi.rennesmetropole.fr/oauth/token --data "grant_type=password" --data "username=username&gt;" --data "password=password&gt;" --data "scope=liste des scopes séparés par des virgules&gt;" --data "client_id=client_id&gt;" -H "Authorization:Basic encodage en base 64 de la chaine client_id:client_password&gt;"
</code></pre></div></div>

<h1 id="contrôle-de-lauthentification-appel-du-portail-rudi-vers-un-fournisseur-de-données">Contrôle de l’authentification appel du Portail RUDI vers un fournisseur de données</h1>

<p>Lorsque le portail vient moissonner des données d’un fournisseur de données ou lorsque le portail vient soumettre un rapport d’intégration, l’appel comporte une entête d’authorization de type “Bearer”.</p>

<p>Exemple :</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Authorization: Bearer Votre bearer
</code></pre></div></div>

<p>Le fournisseur de données peut valider ce token en réalisant l’appel suivant vers le portail :</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -v --request GET https://rudi.rennesmetropole.fr/oauth/check_token?token=valeur du token&gt;
</code></pre></div></div>

<h1 id="authentification-des-porteurs-de-projets">Authentification des porteurs de projets</h1>

<p>Lorsqu’un porteur de projet souhaite utiliser un jeu de données exposé par le portail, il peut le faire</p>
<ul>
  <li>soit en tant qu’utilisateur anonyme. Cette possibilité est proposée afin de permettre à un utilisateur de réaliser des essais rapidement</li>
  <li>soit en son nom. C’est le cas de tous les jeux de données à accès restreint et c’est aussi le cas si le porteur de projet souhaite une qualité de service particulière. Il est important de noter que pour effectuer ce mode d’authentification, il est nécessaire de soumettre un projet dans Rudi puis de souscrire aux différents jeux de données (pas encore disponible)</li>
</ul>

<h2 id="dans-le-cas-dune-utilisation-en-tant-quutilisateur-anonyme-il-faut-">Dans le cas d’une utilisation en tant qu’utilisateur anonyme, il faut :</h2>

<ul>
  <li>Les APIs de téléchargement sont requêtables comme suit :</li>
</ul>

<p>Appel de l’API de téléchargement pour le media souscrit :</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -v -X GET  "https://rudi.rennesmetropole.fr/medias/uuid_du_média/dwnl/1.0.0" 
</code></pre></div></div>

<p>L’url de téléchargement d’un média d’un jeu de données est consultable depuis le détail du jeu de données, dans la partie Informations complémentaires / Sources de données.</p>

<p>Si l’URL commence par <code class="language-plaintext highlighter-rouge">/apm/medias/</code> au lieu de <code class="language-plaintext highlighter-rouge">/medias/</code>, il est nécessaire de s’authentifier, en ajoutant un token à la requête (cf. paragraphes suivants).</p>

<h2 id="pour-un-accès-en-son-nom-propre-il-faut-">Pour un accès en son nom propre, il faut :</h2>

<ul>
  <li>Se connecter sur le portail avec son compte utilisateur</li>
  <li>Créer un projet en y ajoutant les jdd auxquels on souhaite accéder</li>
  <li>Accéder au détail du projet depuis son espace personnel</li>
  <li>Souscrire aux jeux de données</li>
  <li>Récupérer le couple “customer_key”/customer_secret”</li>
  <li>Utiliser ce couple pour s’authentifier :</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -kv -X POST -H "Authorization: Basic [base64(customer_key:customer_secret)]" -d "grant_type=client_credentials&amp;username=[login du user sur le portail associé au customer_key]&amp;scope=apim:subscribe apim:app_manage" -H "Content-Type:application/x-www-form-urlencoded" "https://rudi.rennesmetropole.fr/apm/token"
</code></pre></div></div>

<p>Cet appel permet de récupérer un token.</p>

<ul>
  <li>à partir du token il est alors possible de requêter les APIs de téléchargement comme suit :</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -kv -X GET -H "Authorization: Bearer [token]" "https://rudi.rennesmetropole.fr/apm/medias/[uuid_du_média]/dwnl/1.0.0"
</code></pre></div></div>

<h2 id="pour-un-accès-en-mode-anonyme-il-faut-">Pour un accès en mode anonyme, il faut :</h2>

<p>Utiliser les mêmes requêtes que dans le paragraphe précédent “Pour un accès en son nom propre”, via le compte anonyme avec les informations suivantes :</p>

<ul>
  <li>login : <code class="language-plaintext highlighter-rouge">anonymous</code></li>
  <li>customer_key : <code class="language-plaintext highlighter-rouge">4fl6YM9uUHTRqsTLcYJ3wqEO5B4a</code></li>
  <li>customer_secret : <code class="language-plaintext highlighter-rouge">j7KmWhObMAjFpHYDJ7LALzpd22ca</code></li>
</ul>

      
      <p class="edit text-center">
          
          <a class="button" href="https://github.com/sigrennesmetropole/rudi_documentation/edit/main/articles/_api/authentification.md">
              ✎ Editer cette page
          </a>
      </p>
    </div>
  </div>
</section>

    <footer class="footer">
  <div class="container">
    <div class="footer__logo">
      <span>© 2024 RUDI | Tous droits réservés</span>
      
      <ul class="footer__social">
        
        <li><a href="https://twitter.com/projetrudi?lang=fr"><svg class="icon icon-twitter"><use xlink:href="#icon-twitter"></use></svg></a></li>
        
        <li><a href="https://www.linkedin.com/company/projet-rudi/"><svg class="icon icon-linkedin"><use xlink:href="#icon-linkedin"></use></svg></a></li>
        
      </ul>
      
    </div>
    
    <div class="footer__links">
      
      <h2>Liens utiles</h2>
      
      <ul>
        
          
            <li><a href="https://rudi.bzh/">Rudi</a></li>
          
        
          
            <li><a href="https://rudi.datarennes.fr/cgu/">Conditions générales d’utilisation</a></li>
          
        
          
            <li><a href="https://rudi.datarennes.fr/portail-beta-contact/">Contact</a></li>
          
        
      </ul>
    </div>
    
    <div></div>
  </div>
</footer>


    <!-- Scripts -->
<script src="https://sigrennesmetropole.github.io/rudi_documentation/assets/simple-jekyll-search.min.js"></script>
<script async defer src="https://sigrennesmetropole.github.io/rudi_documentation/assets/main.js"></script>
<script>
    // Variables Jenkins exposées globalement pour être utilisables dans les scripts JS
    window.site = {
        url: "https://sigrennesmetropole.github.io/rudi_documentation"
    }
</script>


  </body>

</html>
